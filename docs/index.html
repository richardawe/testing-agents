<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent Workflow System</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ü§ñ AI Agent Workflow System</h1>
            <p class="subtitle">5-Step Workflow for Day-to-Day Tasks</p>
            <div class="model-info">
                <span class="model-badge">Model: <strong id="model-name">xiaomi/mimo-v2-flash:free</strong></span>
                <span id="api-status" class="status-badge">Checking...</span>
            </div>
        </header>

        <main>
            <div class="task-section">
                <h2>Enter Your Task</h2>
                <form id="task-form">
                    <textarea 
                        id="task-input" 
                        placeholder="Example: Create a short story about a robot learning to paint..."
                        rows="4"
                        required
                    ></textarea>
                    <div class="form-actions">
                        <button type="submit" id="submit-btn" class="btn btn-primary">
                            <span class="btn-text">Execute Workflow</span>
                            <span class="btn-spinner" style="display: none;">‚è≥ Processing...</span>
                        </button>
                        <button type="button" id="clear-btn" class="btn btn-secondary">Clear</button>
                    </div>
                </form>
            </div>

            <!-- Status Message -->
            <div id="status-message" class="status-message" style="display: none;"></div>

            <!-- Workflow Steps Visualization -->
            <div id="workflow-steps" class="workflow-steps" style="display: none;">
                <h2>Workflow Progress</h2>
                <div class="steps-container">
                    <div class="step" id="step-1" data-step="1">
                        <div class="step-icon">1</div>
                        <div class="step-content">
                            <h3>Plan and Define Objectives</h3>
                            <p class="step-status">Pending</p>
                        </div>
                    </div>
                    <div class="step" id="step-2" data-step="2">
                        <div class="step-icon">2</div>
                        <div class="step-content">
                            <h3>Gather and Analyze Information</h3>
                            <p class="step-status">Pending</p>
                        </div>
                    </div>
                    <div class="step" id="step-3" data-step="3">
                        <div class="step-icon">3</div>
                        <div class="step-content">
                            <h3>Execute the Task</h3>
                            <p class="step-status">Pending</p>
                        </div>
                    </div>
                    <div class="step" id="step-4" data-step="4">
                        <div class="step-icon">4</div>
                        <div class="step-content">
                            <h3>Review and Validate</h3>
                            <p class="step-status">Pending</p>
                        </div>
                    </div>
                    <div class="step" id="step-5" data-step="5">
                        <div class="step-icon">5</div>
                        <div class="step-content">
                            <h3>Refine and Complete</h3>
                            <p class="step-status">Pending</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div id="results-section" class="results-section" style="display: none;">
                <h2>Results</h2>
                <div class="results-tabs">
                    <button class="tab-btn active" data-tab="summary">Summary</button>
                    <button class="tab-btn" data-tab="step1">Step 1: Plan</button>
                    <button class="tab-btn" data-tab="step2">Step 2: Research</button>
                    <button class="tab-btn" data-tab="step3">Step 3: Execute</button>
                    <button class="tab-btn" data-tab="step4">Step 4: Review</button>
                    <button class="tab-btn" data-tab="step5">Step 5: Refine</button>
                    <button class="tab-btn" data-tab="raw">Raw Output</button>
                </div>

                <div class="tab-content">
                    <div id="tab-summary" class="tab-pane active">
                        <div id="summary-content" class="formatted-content"></div>
                    </div>
                    <div id="tab-step1" class="tab-pane">
                        <div id="step1-content" class="formatted-content"></div>
                    </div>
                    <div id="tab-step2" class="tab-pane">
                        <div id="step2-content" class="formatted-content"></div>
                    </div>
                    <div id="tab-step3" class="tab-pane">
                        <div id="step3-content" class="formatted-content"></div>
                    </div>
                    <div id="tab-step4" class="tab-pane">
                        <div id="step4-content" class="formatted-content"></div>
                    </div>
                    <div id="tab-step5" class="tab-pane">
                        <div id="step5-content" class="formatted-content"></div>
                    </div>
                    <div id="tab-raw" class="tab-pane">
                        <pre id="raw-content" class="formatted-content"></pre>
                    </div>
                </div>
            </div>

            <!-- Error Section -->
            <div id="error-section" class="error-section" style="display: none;">
                <div class="error-message">
                    <h3>‚ùå Error</h3>
                    <p id="error-text"></p>
                </div>
            </div>
        </main>

        <footer>
            <p>AI Agent Workflow System | Powered by OpenRouter | Deployed on GitHub Pages</p>
        </footer>
    </div>

    <!-- Token Prompt Modal (will be added by JS if needed) -->
    <div id="token-prompt" style="display: none;"></div>

    <script>
        // Set your GitHub repository here
        // Format: 'username/repository-name'
        window.GITHUB_REPO = window.GITHUB_REPO || '3d7tech/testing-agents';
    </script>
    <script src="js/app.js"></script>
</body>
</html>
